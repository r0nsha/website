---
import PostLink from "./PostLink.astro";
import { getPosts } from "@/lib/collections";

const { limit = null } = Astro.props;

const posts = await getPosts();
if (limit != null) {
    posts.splice(limit);
}
---

<ul>
    {posts.length > 0 && <slot />}
    {posts.map((post) => <PostLink post={post} />)}
</ul>

<style>
    ul {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        list-style: none;
        padding: 0;
    }
</style>
